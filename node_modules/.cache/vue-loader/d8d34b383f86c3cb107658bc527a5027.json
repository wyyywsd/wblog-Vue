{"remainingRequest":"/Users/mac/work_space/vue/wblog/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/mac/work_space/vue/wblog/src/views/home/ArticleList.vue?vue&type=style&index=0&id=31e7737e&lang=stylus&scoped=true&","dependencies":[{"path":"/Users/mac/work_space/vue/wblog/src/views/home/ArticleList.vue","mtime":1624955506587},{"path":"/Users/mac/work_space/vue/wblog/node_modules/css-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/mac/work_space/vue/wblog/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":499162500000},{"path":"/Users/mac/work_space/vue/wblog/node_modules/postcss-loader/src/index.js","mtime":499162500000},{"path":"/Users/mac/work_space/vue/wblog/node_modules/stylus-loader/index.js","mtime":1519606876000},{"path":"/Users/mac/work_space/vue/wblog/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/mac/work_space/vue/wblog/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKQGltcG9ydCAnfi4uLy4uL2Fzc2V0cy9zdHlsdXMvZWxsaXBzaXMuc3R5bCcKLmFydGljbGVfbGlzdAogIG1pbi1oZWlnaHQgNTAwcHgKLmFydGljbGUtdGl0bGUKICBmb250LXNpemUgMjBweAogIGNvbG9yICMzZTQxNDUKLmFydGljbGUtY29udGVudAogIGVsbGlwc2lzKCkKICBjb2xvciAjNzQ3ODdjCiAgZm9udC1zaXplIDE2cHgKLmFydGljbGUtdGltZQogIGNvbG9yICNhMWEzYTYKICBmb250LXNpemUgMTNweAogIG1hcmdpbi1ib3R0b20gMzBweAogIGJvcmRlci1ib3R0b20gMXB4IHNvbGlkICNkY2RmZTYKLmFydGljbGUtaW5mbwogIG1hcmdpbi10b3AgNHB4Cg=="},{"version":3,"sources":["ArticleList.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAyGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"ArticleList.vue","sourceRoot":"src/views/home","sourcesContent":["<template>\n  <div>\n    <div class=\"article_list\">\n      <article v-for=\"(articleListDetail, index) in articleLists\" :key=\"index\">\n        <div>\n          <p>\n            <el-link\n              @click=\"showArticle(articleListDetail['article'].ID)\"\n              target=\"_blank\"\n              class=\"article-title\"\n            >{{articleListDetail['article'].article_title}}</el-link>\n          </p>\n        </div>\n        <div>\n          <p class=\"article-content\">{{articleListDetail['article'].article_content}}</p>\n        </div>\n        <div class=\"article-time\">\n          <el-row type=\"flex\" class=\"row-bg\">\n            <el-col :span=\"1\" >\n              <el-avatar size=\"small\" :src=\"articleListDetail['user'].ProfilePhoto\"></el-avatar>\n            </el-col>\n            <el-col :span=\"23\" class=\"article-info\">\n              <span class=\"article_info\">articleListDetail['user'].user_name {{articleListDetail['article'].CreatedAt | timeParse}} 热度</span>\n            </el-col>\n          </el-row>\n        </div>\n      </article>\n    </div>\n\n    <div>\n      <el-pagination\n        @size-change=\"handleSizeChange\"\n        @current-change=\"handleCurrentChange\"\n        background\n        layout=\"total, sizes, prev, pager, next, jumper\"\n        :total=\"articleTotal\"\n        :current-page=\"currentPage\"\n        :page-size=\"pageSize\"\n        style=\"margin-top:20px;\"\n        :page-sizes=\"[10, 20, 50, 100]\"\n      ></el-pagination>\n    </div>\n  </div>\n</template>\n\n<script>\nexport default {\n  data() {\n    return {\n      fullscreenLoading: true,\n      articleLists: [],\n      pageSize: 10,\n      articleTotal: 100,\n      currentPage: 1,\n    };\n  },\n\n  methods: {\n    //点击进入 文章详情页\n    showArticle(id) {\n      this.$router.push(\"article/\" + id);\n    },\n    //pageSize 发生改变时的钩子函数\n    handleSizeChange(val) {\n      this.pageSize = val;\n      this.demo();\n      // this.$router.go(0)\n    },\n    //currentPage 发生改变时的钩子函数\n    handleCurrentChange(val) {\n      this.currentPage = val;\n      this.demo();\n    },\n    async demo() {\n      let params = {\n        pageSize: this.pageSize,\n        currentPage: this.currentPage,\n      };\n\n      let result = await this.$http.showArticleList(\n        \"/show_article_list\",\n        params\n      );\n      console.log(result);\n      this.articleLists = result.data.articleList;\n      this.articleTotal = result.data.articleTotal;\n    },\n  },\n\n  mounted() {\n    this.demo();\n  },\n\n  filters: {\n    timeParse(r) {\n      //2021-06-23T17:50:19.727311+08:00\n      let pat = /\\d+-\\d+-\\d+\\w\\d+:\\d+:\\d+/;\n      //console.log(r.match(pat))\n      return r.match(pat)[0].replace(\"T\", \" \");\n    },\n  },\n};\n</script>\n\n<style lang=\"stylus\" scoped>\n@import '~../../assets/stylus/ellipsis.styl'\n.article_list\n  min-height 500px\n.article-title\n  font-size 20px\n  color #3e4145\n.article-content\n  ellipsis()\n  color #74787c\n  font-size 16px\n.article-time\n  color #a1a3a6\n  font-size 13px\n  margin-bottom 30px\n  border-bottom 1px solid #dcdfe6\n.article-info\n  margin-top 4px\n</style>"]}]}