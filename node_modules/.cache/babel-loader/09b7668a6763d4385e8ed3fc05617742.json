{"remainingRequest":"/Users/mac/work_space/vue/wblog/node_modules/babel-loader/lib/index.js!/Users/mac/work_space/vue/wblog/src/utils/http.js","dependencies":[{"path":"/Users/mac/work_space/vue/wblog/src/utils/http.js","mtime":1624945167799},{"path":"/Users/mac/work_space/vue/wblog/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/mac/work_space/vue/wblog/node_modules/babel-loader/lib/index.js","mtime":315532800000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9NZXNzYWdlMiBmcm9tICJlbGVtZW50LXVpL2xpYi90aGVtZS1jaGFsay9tZXNzYWdlLmNzcyI7CmltcG9ydCAiZWxlbWVudC11aS9saWIvdGhlbWUtY2hhbGsvYmFzZS5jc3MiOwppbXBvcnQgX01lc3NhZ2UgZnJvbSAiZWxlbWVudC11aS9saWIvbWVzc2FnZSI7CmltcG9ydCBfY2xhc3NDYWxsQ2hlY2sgZnJvbSAiL1VzZXJzL21hYy93b3JrX3NwYWNlL3Z1ZS93YmxvZy9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vY2xhc3NDYWxsQ2hlY2siOwppbXBvcnQgX2NyZWF0ZUNsYXNzIGZyb20gIi9Vc2Vycy9tYWMvd29ya19zcGFjZS92dWUvd2Jsb2cvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2NyZWF0ZUNsYXNzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZy5qcyI7CmltcG9ydCBheGlvcyBmcm9tICdheGlvcyc7CmltcG9ydCBzdG9yZSBmcm9tICcuLi9zdG9yZSc7Cgp2YXIgSHR0cCA9IC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoKSB7CiAgZnVuY3Rpb24gSHR0cCgpIHsKICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBIdHRwKTsKCiAgICB0aGlzLmluc3RhbmNlID0gYXhpb3MuY3JlYXRlKHsKICAgICAgYmFzZVVSTDogJ2h0dHA6Ly8xOTIuMTY4LjUwLjIwMDo4MDgxL2FwaS92MScsCiAgICAgIHRpbWVvdXQ6IDEwMDAKICAgIH0pLCAvLyDmt7vliqDor7fmsYLmi6bmiKrlmaggCiAgICB0aGlzLmluc3RhbmNlLmludGVyY2VwdG9ycy5yZXF1ZXN0LnVzZShmdW5jdGlvbiAoY29uZmlnKSB7CiAgICAgIGNvbnNvbGUubG9nKCLor7fmsYLooqvmi6bmiKrkuoYiKTsgLy8g5Zyo5Y+R6YCB6K+35rGC5LmL5YmNIOWwhnRva2Vu5pS+5ZyoaGVhZGVy5LitCgogICAgICB2YXIgdG9rZW4gPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgidG9rZW4iKTsKCiAgICAgIGlmICh0b2tlbikgewogICAgICAgIGNvbmZpZy5oZWFkZXJzWydBdXRob3JpemF0aW9uJ10gPSAnQmVhcmVyICcgKyB0b2tlbjsgLy8g6K6p5q+P5Liq6K+35rGC5pC65bim6Ieq5a6a5LmJdG9rZW4g6K+35qC55o2u5a6e6ZmF5oOF5Ya16Ieq6KGM5L+u5pS5CiAgICAgIH0KCiAgICAgIHJldHVybiBjb25maWc7CiAgICB9LCBmdW5jdGlvbiAoZXJyb3IpIHsKICAgICAgLy8g5a+56K+35rGC6ZSZ6K+v5YGa5Lqb5LuA5LmICiAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdChlcnJvcik7CiAgICB9KTsgLy/mt7vliqDkuIDkuKrlk43lupTmi6bmiKrlmagsIOWIpOaWrSDlpoLmnpx0b2tlbuaXoOaViCDlsLHliKDpmaTmnKzlnLBsb2NhbFN0b3JhZ2XkuK3nmoR0b2tlbgoKICAgIHRoaXMuaW5zdGFuY2UuaW50ZXJjZXB0b3JzLnJlc3BvbnNlLnVzZShmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgLy8g5a+55ZON5bqU5pWw5o2u5YGa54K55LuA5LmICiAgICAgIGNvbnNvbGUubG9nKCLooqvmi6bmiKrlmajmi6bmiKrkuoYiKTsKICAgICAgY29uc29sZS5sb2cocmVzcG9uc2UpOyAvL2NvbnNvbGUubG9nKHJlc3BvbnNlLmRhdGEuY29kZSkKCiAgICAgIGlmIChyZXNwb25zZS5kYXRhLnRva2VuQ29kZSA9PT0gMjAwNCB8fCByZXNwb25zZS5kYXRhLnRva2VuQ29kZSA9PT0gMjAwNSB8fCByZXNwb25zZS5kYXRhLnRva2VuQ29kZSA9PT0gMjAwNikgewogICAgICAgIGxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKCJ0b2tlbiIpOwogICAgICAgIGxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKCJjdXJyZW50X3VzZXIiKTsgLy/orr7nva5zdG9yZeS4reeahGlzTG9naW5TdGF0ZeWxnuaApwoKICAgICAgICBzdG9yZS5kaXNwYXRjaCgidXNlci9zZXRBY3Rpb25Jc0xvZ2luU3RhdGUiLCBmYWxzZSk7CgogICAgICAgIGlmIChyZXNwb25zZS5kYXRhLnRva2VuQ29kZSA9PT0gMjAwNikgewogICAgICAgICAgX01lc3NhZ2Uud2FybmluZyh7CiAgICAgICAgICAgIG1lc3NhZ2U6ICLor7fph43mlrDnmbvpmYYhIgogICAgICAgICAgfSk7CiAgICAgICAgfQogICAgICB9CgogICAgICByZXR1cm4gcmVzcG9uc2U7CiAgICB9LCBmdW5jdGlvbiAoZXJyb3IpIHsKICAgICAgLy8g5a+55ZON5bqU6ZSZ6K+v5YGa54K55LuA5LmICiAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdChlcnJvcik7CiAgICB9KTsKICB9IC8v55So5p2l5YGa5rWL6K+V55qEYXBpCgoKICBfY3JlYXRlQ2xhc3MoSHR0cCwgW3sKICAgIGtleTogImFwaURlbW8iLAogICAgdmFsdWU6IGZ1bmN0aW9uIGFwaURlbW8odXJsKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkgewogICAgICAgIF90aGlzLmluc3RhbmNlLmdldCh1cmwpLnRoZW4oZnVuY3Rpb24gKHJlc3VsdCkgewogICAgICAgICAgLy9jb25zb2xlLmxvZyh1cmwpCiAgICAgICAgICByZXNvbHZlKHJlc3VsdCk7CiAgICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycikgewogICAgICAgICAgcmVqZWN0KGVycik7CiAgICAgICAgfSk7CiAgICAgIH0pOwogICAgfSAvL+azqOWGjOeahGFwaQoKICB9LCB7CiAgICBrZXk6ICJzaWduVXAiLAogICAgdmFsdWU6IGZ1bmN0aW9uIHNpZ25VcCh1cmwsIHBhcmFtcykgewogICAgICB2YXIgX3RoaXMyID0gdGhpczsKCiAgICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7CiAgICAgICAgX3RoaXMyLmluc3RhbmNlLnBvc3QodXJsLCBwYXJhbXMpLnRoZW4oZnVuY3Rpb24gKHJlc3VsdCkgewogICAgICAgICAgcmVzb2x2ZShyZXN1bHQpOwogICAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnIpIHsKICAgICAgICAgIHJlamVjdChlcnIpOwogICAgICAgIH0pOwogICAgICB9KTsKICAgIH0gLy/nmbvpmYbnmoRhcGkKCiAgfSwgewogICAga2V5OiAiYXV0aCIsCiAgICB2YWx1ZTogZnVuY3Rpb24gYXV0aCh1cmwsIHBhcmFtcykgewogICAgICB2YXIgX3RoaXMzID0gdGhpczsKCiAgICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7CiAgICAgICAgX3RoaXMzLmluc3RhbmNlLnBvc3QodXJsLCBwYXJhbXMpLnRoZW4oZnVuY3Rpb24gKHJlc3VsdCkgewogICAgICAgICAgcmVzb2x2ZShyZXN1bHQpOwogICAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnIpIHsKICAgICAgICAgIHJlamVjdChlcnIpOwogICAgICAgIH0pOwogICAgICB9KTsKICAgIH0gLy/liJvlu7rmlofnq6AKCiAgfSwgewogICAga2V5OiAiY3JlYXRlQXJ0aWNsZSIsCiAgICB2YWx1ZTogZnVuY3Rpb24gY3JlYXRlQXJ0aWNsZSh1cmwsIHBhcmFtcykgewogICAgICB2YXIgX3RoaXM0ID0gdGhpczsKCiAgICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7CiAgICAgICAgX3RoaXM0Lmluc3RhbmNlLnBvc3QodXJsLCBwYXJhbXMpLnRoZW4oZnVuY3Rpb24gKHJlc3VsdCkgewogICAgICAgICAgcmVzb2x2ZShyZXN1bHQpOwogICAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnIpIHsKICAgICAgICAgIHJlamVjdChlcnIpOwogICAgICAgIH0pOwogICAgICB9KTsKICAgIH0gLy/mmL7npLrmlofnq6AKCiAgfSwgewogICAga2V5OiAic2hvd0FydGljbGUiLAogICAgdmFsdWU6IGZ1bmN0aW9uIHNob3dBcnRpY2xlKHVybCkgewogICAgICB2YXIgX3RoaXM1ID0gdGhpczsKCiAgICAgIC8vY29uc29sZS5sb2codG9rZW4pCiAgICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7CiAgICAgICAgX3RoaXM1Lmluc3RhbmNlLmdldCh1cmwpLnRoZW4oZnVuY3Rpb24gKHJlc3VsdCkgewogICAgICAgICAgcmVzb2x2ZShyZXN1bHQpOwogICAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnIpIHsKICAgICAgICAgIHJlamVjdChlcnIpOwogICAgICAgIH0pOwogICAgICB9KTsKICAgIH0gLy/ojrflj5bmlofnq6DliJfooagKCiAgfSwgewogICAga2V5OiAic2hvd0FydGljbGVMaXN0IiwKICAgIHZhbHVlOiBmdW5jdGlvbiBzaG93QXJ0aWNsZUxpc3QodXJsKSB7CiAgICAgIHZhciBfdGhpczYgPSB0aGlzOwoKICAgICAgdmFyIHBhcmFtcyA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDoge307CiAgICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7CiAgICAgICAgX3RoaXM2Lmluc3RhbmNlLmdldCh1cmwsIHsKICAgICAgICAgIHBhcmFtczogcGFyYW1zCiAgICAgICAgfSkudGhlbihmdW5jdGlvbiAocmVzdWx0KSB7CiAgICAgICAgICByZXNvbHZlKHJlc3VsdCk7CiAgICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycikgewogICAgICAgICAgcmVqZWN0KGVycik7CiAgICAgICAgfSk7CiAgICAgIH0pOwogICAgfSAvL+S4iuS8oOaWh+eroOWGheeahOWbvueJhwoKICB9LCB7CiAgICBrZXk6ICJ1cExvYWQiLAogICAgdmFsdWU6IGZ1bmN0aW9uIHVwTG9hZCh1cmwsIGRhdGEpIHsKICAgICAgdmFyIF90aGlzNyA9IHRoaXM7CgogICAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkgewogICAgICAgIF90aGlzNy5pbnN0YW5jZS5wb3N0KHVybCwgZGF0YSwgewogICAgICAgICAgaGVhZGVyczogewogICAgICAgICAgICAnQ29udGVudC1UeXBlJzogJ211bHRpcGFydC9mb3JtLWRhdGEnCiAgICAgICAgICB9CiAgICAgICAgfSkudGhlbihmdW5jdGlvbiAocmVzdWx0KSB7CiAgICAgICAgICByZXNvbHZlKHJlc3VsdCk7CiAgICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycikgewogICAgICAgICAgcmVqZWN0KGVycik7CiAgICAgICAgfSk7CiAgICAgIH0pOwogICAgfQogIH0sIHsKICAgIGtleTogInVwZGF0ZVVzZXJJbmZvIiwKICAgIHZhbHVlOiBmdW5jdGlvbiB1cGRhdGVVc2VySW5mbyh1cmwsIHBhcmFtcykgewogICAgICB2YXIgX3RoaXM4ID0gdGhpczsKCiAgICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7CiAgICAgICAgX3RoaXM4Lmluc3RhbmNlLnBvc3QodXJsLCBwYXJhbXMpLnRoZW4oZnVuY3Rpb24gKHJlc3VsdCkgewogICAgICAgICAgcmVzb2x2ZShyZXN1bHQpOwogICAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnIpIHsKICAgICAgICAgIHJlamVjdChlcnIpOwogICAgICAgIH0pOwogICAgICB9KTsKICAgIH0KICB9XSk7CgogIHJldHVybiBIdHRwOwp9KCk7CgpleHBvcnQgZGVmYXVsdCBIdHRwOw=="},{"version":3,"sources":["/Users/mac/work_space/vue/wblog/src/utils/http.js"],"names":["axios","store","Http","instance","create","baseURL","timeout","interceptors","request","use","config","console","log","token","localStorage","getItem","headers","error","Promise","reject","response","data","tokenCode","removeItem","dispatch","warning","message","url","resolve","get","then","result","catch","err","params","post"],"mappings":"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","sourcesContent":["import axios from 'axios'\nimport store from '../store'\nimport { Message } from \"element-ui\";\nclass Http {\n  constructor() {\n    this.instance = axios.create({\n      baseURL: 'http://192.168.50.200:8081/api/v1',\n      timeout: 1000\n    }),\n      // 添加请求拦截器 \n      this.instance.interceptors.request.use(function (config) {\n        console.log(\"请求被拦截了\")\n        // 在发送请求之前 将token放在header中\n        let token = localStorage.getItem(\"token\")\n        if (token) {\n          config.headers['Authorization'] = 'Bearer ' + token // 让每个请求携带自定义token 请根据实际情况自行修改\n        }\n        return config;\n      }, function (error) {\n        // 对请求错误做些什么\n        return Promise.reject(error);\n      });\n    //添加一个响应拦截器, 判断 如果token无效 就删除本地localStorage中的token\n    this.instance.interceptors.response.use(function (response) {\n      // 对响应数据做点什么\n      console.log(\"被拦截器拦截了\")\n      console.log(response)\n      //console.log(response.data.code)\n      if (response.data.tokenCode === 2004 || response.data.tokenCode === 2005 || response.data.tokenCode === 2006) {\n        localStorage.removeItem(\"token\")\n        localStorage.removeItem(\"current_user\")\n        //设置store中的isLoginState属性\n        store.dispatch(\"user/setActionIsLoginState\",false)\n        if (response.data.tokenCode === 2006) {\n          Message.warning({\n            message: \"请重新登陆!\",\n          });\n        }\n      }\n      return response;\n    }, function (error) {\n      // 对响应错误做点什么\n      return Promise.reject(error);\n    });\n\n\n  }\n\n  //用来做测试的api\n  apiDemo(url) {\n    return new Promise((resolve, reject) => {\n      this.instance.get(url)\n        .then((result) => {\n          //console.log(url)\n          resolve(result)\n        })\n        .catch((err) => {\n          reject(err)\n        })\n    })\n  }\n  //注册的api\n  signUp(url, params) {\n    return new Promise((resolve, reject) => {\n      this.instance.post(url, params)\n        .then((result) => {\n          resolve(result)\n        })\n        .catch((err) => {\n          reject(err)\n        })\n    })\n  }\n  //登陆的api\n  auth(url, params) {\n    return new Promise((resolve, reject) => {\n      this.instance.post(url, params)\n        .then((result) => {\n          resolve(result)\n        })\n        .catch((err) => {\n          reject(err)\n        })\n    })\n  }\n  //创建文章\n  createArticle(url, params) {\n    return new Promise((resolve, reject) => {\n      this.instance.post(url, params)\n        .then((result) => {\n          resolve(result)\n        })\n        .catch((err) => {\n          reject(err)\n        })\n    })\n\n  }\n  //显示文章\n  showArticle(url) {\n    //console.log(token)\n    return new Promise((resolve, reject) => {\n      this.instance.get(url)\n        .then((result) => {\n          resolve(result)\n        })\n        .catch((err) => {\n          reject(err)\n        })\n    })\n  }\n  //获取文章列表\n  showArticleList(url, params = {}) {\n    return new Promise((resolve, reject) => {\n\n      this.instance.get(url, { params })\n        .then((result) => {\n          resolve(result)\n        })\n        .catch((err) => {\n          reject(err)\n        })\n    })\n  }\n  //上传文章内的图片\n  upLoad(url,data) {\n    return new Promise((resolve,reject)=> {\n      this.instance.post(url,data, {headers: { 'Content-Type': 'multipart/form-data' }})\n      .then((result)=> {\n        resolve(result)\n      })\n       .catch((err) => {\n          reject(err)\n        })\n    })\n  }\n\n  updateUserInfo(url, params) {\n    return new Promise((resolve, reject)=> {\n      this.instance.post(url,params)\n      .then((result)=> {\n        resolve(result)\n      })\n      .catch((err)=> {\n        reject(err)\n      })\n    })\n  }\n}\n\nexport default Http"]}]}