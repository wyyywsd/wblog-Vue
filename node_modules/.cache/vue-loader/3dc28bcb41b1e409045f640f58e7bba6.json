{"remainingRequest":"/Users/mac/work_space/vue/wblog/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/mac/work_space/vue/wblog/src/components/login.vue?vue&type=style&index=0&id=10d9df09&lang=stylus&scoped=true&","dependencies":[{"path":"/Users/mac/work_space/vue/wblog/src/components/login.vue","mtime":1624104795935},{"path":"/Users/mac/work_space/vue/wblog/node_modules/css-loader/dist/cjs.js","mtime":1621316504623},{"path":"/Users/mac/work_space/vue/wblog/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":1621316506100},{"path":"/Users/mac/work_space/vue/wblog/node_modules/postcss-loader/src/index.js","mtime":1621316505410},{"path":"/Users/mac/work_space/vue/wblog/node_modules/stylus-loader/index.js","mtime":1622785701919},{"path":"/Users/mac/work_space/vue/wblog/node_modules/cache-loader/dist/cjs.js","mtime":1621316499763},{"path":"/Users/mac/work_space/vue/wblog/node_modules/vue-loader/lib/index.js","mtime":1621316506100}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKLmVsLWNvbAogIGJvcmRlci1yYWRpdXMgNHB4CiAgaGVpZ2h0IDcwMHB4Ci5iZy1wdXJwbGUKICBoZWlnaHQgMTAwJQouZ3JpZC1jb250ZW50CiAgYm9yZGVyLXJhZGl1cyA0cHgKICBtaW4taGVpZ2h0IDM2cHgKLmxvZ2luLWZvcm0KICBjb2xvciB5ZWxsb3cKICBtYXJnaW4tdG9wIC0yMHB4CiAgd2lkdGggODAlCiAgCg=="},{"version":3,"sources":["login.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAsGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"login.vue","sourceRoot":"src/components","sourcesContent":["<template>\n  <el-dialog\n    title=\"登录\"\n    :visible.sync=\"loginDialogVisible\"\n    width=\"30%\"\n    :modal-append-to-body=\"false\"\n    :show-close=\"false\"\n  >\n    <div class=\"login-form\">\n      <el-form\n        :model=\"ruleForm\"\n        status-icon\n        :rules=\"rules\"\n        ref=\"ruleForm\"\n        label-width=\"100px\"\n        class=\"demo-ruleForm\"\n      >\n        <el-form-item label=\"用户名\" prop=\"user_name\">\n          <el-input type=\"text\" v-model=\"ruleForm.user_name\" autocomplete=\"off\"></el-input>\n        </el-form-item>\n        <el-form-item label=\"密码\" prop=\"pass\">\n          <el-input type=\"password\" v-model=\"ruleForm.pass\" autocomplete=\"off\"></el-input>\n        </el-form-item>\n        <el-form-item>\n          <el-button type=\"primary\" @click=\"submitForm('ruleForm')\" size=\"small\">提交</el-button>\n          <el-button @click=\"setActionLoginDialogVisibleState(!loginDialogVisible)\" size=\"small\">取 消</el-button>\n          <el-button @click=\"resetForm('ruleForm')\" size=\"small\">重置</el-button>\n        </el-form-item>\n      </el-form>\n    </div>\n  </el-dialog>\n</template>\n\n<script>\nimport { mapState, mapActions } from \"vuex\";\nexport default {\n  data() {\n    var checkUserName = (rule, value, callback) => {\n      if (!value) {\n        return callback(new Error(\"用户名不能为空\"));\n      }\n      setTimeout(() => {\n        if (value.length < 2) {\n          callback(new Error(\"用户名长度不能小于两位\"));\n        } else {\n          callback();\n        }\n      }, 1000);\n    };\n    var validatePass = (rule, value, callback) => {\n      if (value === \"\") {\n        callback(new Error(\"请输入密码\"));\n      } else {\n        if (value.length < 8) {\n          callback(new Error(\"密码长度不能小于8位\"));\n        } else {\n          callback();\n        }\n      }\n    };\n    return {\n      ruleForm: {\n        user_name: \"\",\n        pass: \"\",\n      },\n      rules: {\n        pass: [{ validator: validatePass, trigger: \"blur\" }],\n        user_name: [{ validator: checkUserName, trigger: \"blur\" }],\n      },\n    };\n  },\n\n  computed: {\n    ...mapState(\"articles\", {\n      loginDialogVisible: \"loginDialogVisibleState\",\n    }),\n  },\n  methods: {\n    ...mapActions(\"articles\", [\"setActionLoginDialogVisibleState\"]),\n    submitForm(formName) {\n      this.$refs[formName].validate((valid) => {\n        if (valid) {\n          //提交成功后 做的处理\n          alert(\"submit!\");\n          //处理结束后, 关闭登陆弹窗\n          this.setActionLoginDialogVisibleState(!this.loginDialogVisible)\n        } else {\n          console.log(\"error submit!!\");\n          return false;\n        }\n      });\n      \n    },\n    resetForm(formName) {\n      this.$refs[formName].resetFields();\n    },\n  },\n  mounted() {},\n};\n</script>\n\n<style lang=\"stylus\" scoped>\n.el-col\n  border-radius 4px\n  height 700px\n.bg-purple\n  height 100%\n.grid-content\n  border-radius 4px\n  min-height 36px\n.login-form\n  color yellow\n  margin-top -20px\n  width 80%\n  \n</style>"]}]}